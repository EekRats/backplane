<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Backplane</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
        <link rel="icon" type="image/png" href="{{ url_for('static', filename='logo.png') }}">
    </head>
    <body>
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <ul class="flashes">
        {% for category, message in messages %}
        <li class="{{ category }}">{{ message }}</li>
        {% endfor %}
        </ul>
        {% endif %}
        {% endwith %}
        <h1><a href="{{ url_for('index') }}">Backplane</a></h1>
        <p>
            <a href="{{ url_for('index') }}">Home</a>
            <a href="{{ url_for('add_component') }}">Add Component</a>
            <a href="{{ url_for('list_systems') }}">Systems</a>
            <a href="{{ url_for('tag_cloud') }}">Tags</a>
            <a href="{{ url_for('export_csv',
                                q=request.args.get('q', ''),
                                status=request.args.get('status', ''),
                                type=request.args.get('type', '')) }}">Export CSV</a>
            <a href="{{ url_for('export_json',
                                q=request.args.get('q', ''),
                                status=request.args.get('status', ''),
                                type=request.args.get('type', '')) }}">Export JSON</a>
        </p>
        {% block content %}{% endblock %}
        <footer style="margin-top: 40px; padding: 10px; text-align: center; color: #888;">
            <hr>
            <small>
                Backplane &copy; {{ current_year }} - <a href="https://silaseacret.com" target="_blank">Silas Eacret</a> |
                <a href="https://github.com/eekrats/backplane" target="_blank">GitHub</a><br>
                Licensed under <a href="https://www.gnu.org/licenses/gpl-3.0.en.html" target="_blank" rel="noopener noreferrer">GNU GPLv3</a>
            </small>
        </footer>
    </body>
</html>